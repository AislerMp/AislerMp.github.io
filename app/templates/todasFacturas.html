{% include "header.html" %}

{% for factura in facturas %}

    <div class="factura" id="factura-visual">
    <!-- Encabezado -->
    <div class="factura-header">
        <h3>Loter√≠a Virtual CR</h3>
        <p><strong>Factura N¬∫:</strong> <span id="factura-id">{{ factura.idFactura }}</span></p>
        <p><strong>Usuario:</strong> <span id="factura-usuario">{{ factura.Usuario }}</span></p>
        <p><strong>Fecha Actual:</strong> <span id="factura-actual">{{ factura.Fecha_Actual }}</span></p>
    </div>

    <!-- Datos del Cliente -->
    <div class="factura-cliente">
        <h4>üßç Datos de la compra</h4>  
        <p><strong>Sorteo:</strong> <span id="factura-sorteo">{{ factura.sorteo_nombre }}</span></p>
        <p><strong>Fecha del Sorteo:</strong> <span id="factura-vendida">{{ factura.Fecha_Vendida }}</span></p>
    </div>

    <!-- Detalle de N√∫meros -->
    <div class="factura-detalle">
        <h4>üéØ Detalle de N√∫meros</h4>
        <div style="display: flex; justify-content: space-between; ">
            <table>
                <thead>
                    <tr>
                        <th>Monto (‚Ç°)</th>
                        <th>N√∫mero</th>
                    </tr>
                </thead>
                <tbody id="factura-numeros">
                    <!-- Aqu√≠ se insertan los n√∫meros -->
                    {% for monto, numeros in factura.ResumenAgrupado.items() %}
                    <tr>
                        <td>{{ monto }}</td>
                        <td>{{ numeros | join(', ') }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <table>
                <thead>
                    <tr>
                        <th>Reventado (‚Ç°)</th>
                        <th>N√∫mero</th>
                    </tr>
                </thead>
                <tbody id="factura-numeros">
                    <!-- Aqu√≠ se insertan los n√∫meros -->
                    {% if factura.ResumenReventado%}
                    {% for monto, numeros in factura.ResumenReventado.items() %}
                    <tr>
                        <td>{{ monto }}</td>
                        <td>{{ numeros | join(', ') }}</td>
                    </tr>
                    {% endfor %}
                    {% else %}
                    <tr>
                        <td>(‚Ç°) 0</td>
                        <td>Ninguno</td>
                    </tr>
                    {% endif %}
                    
                </tbody>
            </table>
        </div>
        
    </div>

    <!-- Total -->
    <div class="factura-total">
        <h3>Total Pagado: ‚Ç°<span id="factura-total">{{ factura.Monto }}</span></h3>
    </div>
</div>

{% endfor %}

{% include "footer.html" %}